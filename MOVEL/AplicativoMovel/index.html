<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no
		initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />

		<title>SAEmóvel</title>

		<script src="./js/jquery.min.js"></script><!--JQuery-->

		<script src="./cordova.js"></script>
		<!--cordova-->

		<script src="./bootstrap/js/bootstrap.min.js"></script><!--Bootstrap-->

		<!-- funçoes-->
		<script type="text/javascript" src="./js/funtions.js"></script>
		<!-- funçoes-->

		<!-- MAPA -->
		<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places,weather"></script>
		<script type="text/javascript" src="./js/mapa.js"></script>
		<script type="text/javascript" src="./js/mapaClima.js"></script>
		<!-- MAPA -->

		<!--grafico-->
		<script type="text/javascript" src="https://www.google.com/jsapi"></script>
		<script type="text/javascript" src="./js/graficos.js"></script>
		<!--grafico-->

		<script type="text/javascript">
			var alertaAtivo = true;
			
			document.addEventListener("deviceready", onDeviceReady, false);

			/**
			 *	Evento quando o dispositivo estiver pronto
			 */
			function onDeviceReady() {
				
				
				try{
					lerCfg();
				}
				catch(e){
					console.log(e);
				}
				finally{
					// verificador de timer do alerta ativo ou nao
					if(alertaAtivo){
						ativarAlerta(true);
					}
				}
	
			}

			/**
			 * exibi o menu +
			 */
			function exibirMenuPlus() {
				$("#menuPlus").slideToggle('fast');
			}

			/**
			 * Abre um conteudo dentro do div 'conteudos'
			 * @param tela: nome do arquivo html sem a extenção
			 * @param nome: nome a ser exibido no topo do App
			 * */
			function alterarConteudo(tela, nome) {

				$("#menuPlus").hide('fast');

				if (tela == "home") {
					$("#conteudo").hide();
					$("#alerta").show();
					$("#painelOpcoesMapa").hide();
					$("#mapa").show();
					$("strong").html("Sae Móvel");
					$("#mapaClima").hide();
				} else if (tela == "previsao") {

					$("#mapa").hide();
					$("#conteudo").hide();
					$("#alerta").hide();
					$("#painelOpcoesMapa").show();
					$("#mapaClima").show();
					$("strong").html(nome);
					initializeWeather();
				} else {
					$("#mapa").hide();
					$("strong").html(nome);
					$("#alerta").hide();
					$("#painelOpcoesMapa").hide();
					$("#mapaClima").hide();
					$("#conteudo").load(tela + ".html");
					$("#conteudo").show();
				}
			}

		</script>

		<link href="./bootstrap/css/bootstrap.min.css" rel="stylesheet">
		<!--Bootstrap-->
		<link href="./bootstrap/css/bootstrap-theme.min.css" rel="stylesheet">
		<!--Bootstrap-->

		<link href="./lib/ionic/css/ionic.min.css" rel="stylesheet">
		<!--Ionic-->

		<link href="./css/style.css" rel="stylesheet">
		<!--estilos-->

	</head>
	<body>
		<!--barra superior com menus-->
		<div style="margin-left: auto;" id="header">
			<div class="bar bar-header tabs-top bar-positive">
				<h1 class="title"><strong>Sae Móvel</strong></h1>
			</div>
			<div style="margin-left: auto;" class="tabs tabs-top tabs-background-positive tabs-light tabs-positive">
				<a onclick="alterarConteudo('home', 'Sae Móvel');" href="javascript:void(0);" class="tab-item active"> <i class="icon ion-home"></i> Home </a>
				<a href="javascript:void(0);" class="tab-item"> <i class="icon ion-plus-round" onclick="exibirMenuPlus();"></i> Menu </a>
				<a onclick="alterarConteudo('Servico', 'Serviço De Alertas');" class="tab-item" href="javascript:void(0);"> <i class="icon ion-gear-a"></i> Configurações </a>
			</div>
		</div>

		<!--menu plus-->
		<div id="menuPlus" class="popover bottom ">
			<div class="arrow"></div>
			<div class="popover-content">
				<a onclick="alterarConteudo('medicoes', 'Medições');" class="item" href="javascript:void(0);"> Medições </a>
				<a class="item" href="#"> História </a>
				<a onclick="alterarConteudo('previsao', 'Previsão do Tempo');" class="item" href="javascript:void(0);"> Previsão do Tempo </a>
				<a class="item" href="#"> Links Úteis </a>
				<a class="item" href="#"> Galeria </a>
				<a onclick="lerCfg();" class="item" href="javascript:void(0);"> Simulador </a>
				<a onclick="alterarConteudo('verificarLocal', 'Verificar Local');" class="item" href="javascript:void(0);"> Verificar Local </a>
			</div>
		</div>

		<!--Conteúdo adicionais-->
		<div id="conteudo" class="container">

		</div>

		<!--area do mapa-->
		<div id="mapaconteiner" >
			<input id='pac-input' class='controls' type='text' placeholder='Digite um endereço...'>
			<div id='mapa'></div>
			<div id='mapaClima'></div>
			<div id="painelInfo">
				<iframe id="imgInfoMapa" height="60px" width="100%"  allowtransparency="true" marginwidth="0" marginheight="0" hspace="0" vspace="0" frameborder="0" scrolling="no" src="http://www.cptec.inpe.br/widget/widget.php?p=5400&w=n&c=909090&f=ffffff"></iframe>
				<img id="imgMapaMetereologico" src="http://ciram.epagri.sc.gov.br/ciram_arquivos/arquivos/saidas_scripts/img/satelite/goes13IR/anima.gif"/>

			</div>
		</div>

		<!--alerta rodapé-->

		<button onclick="alterarConteudo('medicoes', 'Medições');" id="alerta" class="button button-full button-positive button-assertive button-energized"></button>

		<!--alerta rodapé mapa metereológico-->

		<button onclick="OpcoesMapaMetereologico();"  id="painelOpcoesMapa" class="button button-full button-positive button-assertive button-energized">
			Mais Informações
		</button>

	</body>
</html>